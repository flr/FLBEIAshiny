library(scales)
library(kobe)         # for kobe plot
library(FLBEIA)       # where example data is
library(FLBEIAShiny)  # the app
library(tidyr)        # where gather function is, data wide to long
library(dplyr)        # as.tabl function
library(scales)
library(kobe)         # for kobe plot
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
load("data/FLBEIAshiny.RData")
load("data/FLBEIAshiny.RData")
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = bio.iter,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = bio.iter,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
runApp('inst/flbeiaApp')
library(FLBEIAShiny)
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
runApp('inst/flbeiaApp')
library(FLBEIAShiny)
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = RefPts,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
library(FLBEIAShiny)
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
run_app <- function(
with = c("shinyApp", "runApp", "shinyAppDir")
) {
with <- match.arg(with)
if (with == "shinyApp"){
shiny::shinyApp(ui = app_ui(), server = app_server)
} else if (with == "runApp") {
shiny::runApp(system.file("app", package = "aaaa"))
} else if (with == "shinyAppDir") {
shiny::shinyAppDir(system.file("app", package = "aaaa"))
}
}
library(FLBEIAShiny)
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
shiny::runApp('inst/flbeiaApp')
library(FLBEIA)       # where example data is
library(FLBEIAShiny)  # the app
library(tidyr)        # where gather function is, data wide to long
library(dplyr)        # as.tabl function
library(scales)
library(kobe)         # for kobe plot
## ****************************************************************
## ****************************************************************
## testing data into environment
## ****************************************************************
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr) #,
runApp('~/Maria/2019/GITHUB/FLBEIAshiny/inst/flbeiaApp')
library(hubr)
# Example
x=c(rnorm(130,3,2),
rnorm(220,10,2),
rnorm(500,2,2),
rnorm(50,-4,2),
rnorm(30,2,2),
rnorm(120,8,2))
seg_obj=Hubert_segmentation(x)
plot(x)
lines(model_signal(x,seg_obj$locations), col="red",lwd=3)
dat.bio3<-read.csv("C:/Use/Maria/2020/Marie_Delbasty/Material_MDebalsty/master_report/ORBERLDI DB 2004-2017_3.csv",header = TRUE,sep=";") # Neel
aux1 <- aggregate(dat.bio3$Neel, by=list(dat.bio3$Year, dat.bio3$Month), FUN=sum, na.rm =T)
aux2 <- aggregate(dat.bio3$Rainfall, by=list(dat.bio3$Year, dat.bio3$Month), FUN=mean, na.rm =T)
names(aux1) <- c("Year","Month" ,"Neel")
names(aux2) <- c("Year","Month" ,"Rainfall")
aux <- cbind(aux1, aux2)
aux <- aux[, c(-4,-5)]
aux
newdata <- aux[order(aux$Year, aux$Month),]
newdata$new <- paste(newdata$Year, newdata$Month,  sep= "_")
newdata$number<- match(newdata$new, unique(newdata$new) )
order <- newdata$number
label <- newdata$Month
ggplot(newdata, aes(x=number, Neel))+
geom_bar(stat="identity")+
scale_x_discrete(limits=order, labels=label)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
geom_line(aes(y = Rainfall*500), linetype="dashed")+
scale_y_continuous(sec.axis = sec_axis(~.*500, name = "Rainfall"))
?runApp
library(FLBEIA)       # where example data is
library(FLBEIAShiny)  # the app
library(tidyr)        # where gather function is, data wide to long
library(dplyr)        # as.tabl function
library(scales)
library(kobe)         # for kobe plot
load("data/FLBEIAshiny.RData")
proj.yr <- 2017
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = T) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = T) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = F) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = FALSE) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = FALSE) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr,
reduced = FALSE) #,
flbeiaApp(bio = bioQ,
bioIt = NULL,
flt = fltQ,
fltIt = NULL,
adv = advQ,
fltStk = fltStkQ,
mt = mtQ,
mtStk = mtStkQ,
risk = risk,
RefPts = NULL,
years = NULL,
calculate_npv = FALSE,
npv =  NULL,
npv.y0 = NULL,
npv.yrs = NULL,
desc = desc,
proj.yr = proj.yr #,
#         reduced = FALSE,
#         deploy = F
)
